State0: Initialisatie

Initialiseer de systeemvariabelen en hardware-instellingen.
Ga naar State: Wachten op cliënt.

State1: Wachten op cliënt

Wacht op verzoek tot toegang FDS vanuit persoon (Schakelaar 1 laag).
Als Deur 1 handmatig wordt geopend, ga naar State: Cliënt betreedt Scanzone.
Anders blijf in deze staat.

State2: Cliënt betreedt Scanzone

Wacht tot persoon wordt gedetecteerd in zone A (Schakelaar 3 hoog).
Als er een persoon wordt gedetecteerd, wacht dan op het handmatig sluiten van Deur 1 (Schakelaar 1 hoog).
Als Deur 1 wordt gesloten terwijl er personen worden gedetecteerd in zone A en/of B (schakelaar 3 en/of 4 hoog), ga naar State: Ferrometaaldetectie.
Als er geen persoon wordt gedetecteerd in zone A en/of B en Deur 1 wordt gesloten, ga terug naar State: Wachten op cliënt.

State3: Ferrometaaldetectie:

Verzoek iedereen om in zone A plaats te nemen.
Als iedereen in zone A is en niemand in zone B (dus schakelaar 3 hoog en schakelaar 4 laag), start het scanproces.
Verzoek iedereen om zich van zone A naar zone B te verplaatsen.
Meet de aanwezigheid van ferrometaal op de personen tijdens het verplaatsen (potentiometerwaarde).
Pas de kleur van de LED-scanner aan op basis van de potentiometerwaarde, LED wordt rood als metaal wordt gedetecteerd en groen wanneer het niet wordt gedetecteerd.
Controleer of zone A persoonvrij is en zone B personen bevat (Schakelaar 3 laag en Schakelaar 4 hoog).
Als er geen metaal is gedetecteerd bij passage van zone A naar B door alle mensen, ga naar volgende state: Wachten op MRI-cliënt.
Indien ferrometaal is gedetecteerd, ga naar State6: Ferrometaaldetectie gedetecteerd.

State4: Wachten op MRI-cliënt

Wacht tot Deur 2 wordt geopend (Schakelaar 2 laag).
Als Deur 2 wordt geopend, wacht dan tot Deur 2 weer wordt gesloten (Schakelaar 2 hoog).
Controleer of er mensen zijn in zone A en/of B (Schakelaar 3 hoog en/of Schakelaar 4 hoog).
Indien dit het geval is, wordt Deur 2 vergrendeld en Deur 1 ontgrendeld en worden de personen verzocht het scangebied te verlaten door Deur 1. Wanneer het scangebied leeg is (schakelaar 3 en 4 laag), ga naar state1.

State6: Ferrometaaldetectie gedetecteerd

Houd Deur 2 vergrendeld. Geef een indicatie aan personen dat metaal is gedetecteerd en ontgrendel en open Deur 1. Wacht tot alle personen de ruimte hebben verlaten en ga daarna door naar State 1.

State7: Uitgangsverzoek

State8: Omleidingsverzoek

State9: Systeemfout

