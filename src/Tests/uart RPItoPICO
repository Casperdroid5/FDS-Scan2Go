import serial
import time

# Seriele poortinstellingen
ser = serial.Serial('/dev/ttyAMA10', baudrate=9600, timeout=1) # ttyAMA10 is the mini 3 pin serial port on the raspbbery5 

try:
    while True:
        # Bericht verzenden naar de Raspberry Pi Pico
        message = "Hello Pico!"
        ser.write(message.encode())
        print("Verzonden naar Pico:", message)

        # Wacht op ontvangst van een bericht van de Raspberry Pi Pico
        received_data = ser.readline().decode().strip()
        print("Ontvangen van Pico:", received_data)

        time.sleep(1)  # Wacht 1 seconde voordat het volgende bericht wordt verzonden

except KeyboardInterrupt:
    print("Programma afgebroken")

finally:
    ser.close()

